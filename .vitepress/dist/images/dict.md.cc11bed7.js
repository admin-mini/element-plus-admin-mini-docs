import{_ as s,o as n,c as a,Q as l}from"./chunks/framework.38acacb6.js";const C=JSON.parse('{"title":"$dict","description":"","frontmatter":{},"headers":[],"relativePath":"dict.md","filePath":"dict.md"}'),p={name:"dict.md"},o=l(`<h1 id="dict" tabindex="-1">$dict <a class="header-anchor" href="#dict" aria-label="Permalink to &quot;$dict&quot;">​</a></h1><p>全局字典</p><p>$dict已经通过<code>app.config.globalProperties.dict</code> 注册到全局作用域</p><h2 id="起源" tabindex="-1">起源 <a class="header-anchor" href="#起源" aria-label="Permalink to &quot;起源&quot;">​</a></h2><p>现代项目几乎都会涉及到 “字典”；例如：</p><p>用户类型（1管理员，2操作员，3录入员）</p><p>成绩（A完美 B优秀 C及格 D一般）</p><p>...</p><p>这些字典几乎贯穿一个业务模块的table字段呈现、筛选条件的表单、新增、编辑表单、详情页等等</p><p>我们用纯净的方式封装了一个小工具 $dict</p><p>它可以完美结合table-formatter/select-dict等功能</p><h2 id="使用方式" tabindex="-1">使用方式 <a class="header-anchor" href="#使用方式" aria-label="Permalink to &quot;使用方式&quot;">​</a></h2><p><strong>字典定义</strong></p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">///src/utils/dict.js</span></span>
<span class="line"><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> dict </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  SETTING: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    OPEN_PERMISSION: </span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">//是否开启权限</span></span>
<span class="line"><span style="color:#E1E4E8;">    API_URL: </span><span style="color:#9ECBFF;">&#39;/api/&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">//API具体路径</span></span>
<span class="line"><span style="color:#E1E4E8;">    IMG_URL: </span><span style="color:#9ECBFF;">&#39;/picTemp/&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    AREA_CODE: </span><span style="color:#79B8FF;">131000</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">  userType: [</span></span>
<span class="line"><span style="color:#E1E4E8;">    { value: </span><span style="color:#9ECBFF;">&#39;A&#39;</span><span style="color:#E1E4E8;">, label: </span><span style="color:#9ECBFF;">&#39;管理员&#39;</span><span style="color:#E1E4E8;">, color: </span><span style="color:#9ECBFF;">&#39;success&#39;</span><span style="color:#E1E4E8;"> },</span></span>
<span class="line"><span style="color:#E1E4E8;">    { value: </span><span style="color:#9ECBFF;">&#39;C&#39;</span><span style="color:#E1E4E8;">, label: </span><span style="color:#9ECBFF;">&#39;操作员&#39;</span><span style="color:#E1E4E8;">, color: </span><span style="color:#9ECBFF;">&#39;danger&#39;</span><span style="color:#E1E4E8;"> },</span></span>
<span class="line"><span style="color:#E1E4E8;">    { value: </span><span style="color:#9ECBFF;">&#39;B&#39;</span><span style="color:#E1E4E8;">, label: </span><span style="color:#9ECBFF;">&#39;录入员&#39;</span><span style="color:#E1E4E8;">, color: </span><span style="color:#9ECBFF;">&#39;warning&#39;</span><span style="color:#E1E4E8;"> }</span></span>
<span class="line"><span style="color:#E1E4E8;">  ],</span></span>
<span class="line"><span style="color:#E1E4E8;">  translateSerivce: [</span></span>
<span class="line"><span style="color:#E1E4E8;">    { value: </span><span style="color:#9ECBFF;">&#39;1&#39;</span><span style="color:#E1E4E8;">, label: </span><span style="color:#9ECBFF;">&#39;Google&#39;</span><span style="color:#E1E4E8;"> },</span></span>
<span class="line"><span style="color:#E1E4E8;">    { value: </span><span style="color:#9ECBFF;">&#39;2&#39;</span><span style="color:#E1E4E8;">, label: </span><span style="color:#9ECBFF;">&#39;AWS&#39;</span><span style="color:#E1E4E8;"> },</span></span>
<span class="line"><span style="color:#E1E4E8;">    { value: </span><span style="color:#9ECBFF;">&#39;3&#39;</span><span style="color:#E1E4E8;">, label: </span><span style="color:#9ECBFF;">&#39;Azure&#39;</span><span style="color:#E1E4E8;"> }</span></span>
<span class="line"><span style="color:#E1E4E8;">  ],</span></span>
<span class="line"><span style="color:#E1E4E8;">  smsBatchEnable: [</span></span>
<span class="line"><span style="color:#E1E4E8;">    { value: </span><span style="color:#9ECBFF;">&#39;1&#39;</span><span style="color:#E1E4E8;">, label: </span><span style="color:#9ECBFF;">&#39;启用&#39;</span><span style="color:#E1E4E8;"> },</span></span>
<span class="line"><span style="color:#E1E4E8;">    { value: </span><span style="color:#9ECBFF;">&#39;2&#39;</span><span style="color:#E1E4E8;">, label: </span><span style="color:#9ECBFF;">&#39;禁用&#39;</span><span style="color:#E1E4E8;"> }</span></span>
<span class="line"><span style="color:#E1E4E8;">  ],</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#6A737D;">//...</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">///src/utils/dict.js</span></span>
<span class="line"><span style="color:#D73A49;">let</span><span style="color:#24292E;"> dict </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  SETTING: {</span></span>
<span class="line"><span style="color:#24292E;">    OPEN_PERMISSION: </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">//是否开启权限</span></span>
<span class="line"><span style="color:#24292E;">    API_URL: </span><span style="color:#032F62;">&#39;/api/&#39;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">//API具体路径</span></span>
<span class="line"><span style="color:#24292E;">    IMG_URL: </span><span style="color:#032F62;">&#39;/picTemp/&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    AREA_CODE: </span><span style="color:#005CC5;">131000</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">  userType: [</span></span>
<span class="line"><span style="color:#24292E;">    { value: </span><span style="color:#032F62;">&#39;A&#39;</span><span style="color:#24292E;">, label: </span><span style="color:#032F62;">&#39;管理员&#39;</span><span style="color:#24292E;">, color: </span><span style="color:#032F62;">&#39;success&#39;</span><span style="color:#24292E;"> },</span></span>
<span class="line"><span style="color:#24292E;">    { value: </span><span style="color:#032F62;">&#39;C&#39;</span><span style="color:#24292E;">, label: </span><span style="color:#032F62;">&#39;操作员&#39;</span><span style="color:#24292E;">, color: </span><span style="color:#032F62;">&#39;danger&#39;</span><span style="color:#24292E;"> },</span></span>
<span class="line"><span style="color:#24292E;">    { value: </span><span style="color:#032F62;">&#39;B&#39;</span><span style="color:#24292E;">, label: </span><span style="color:#032F62;">&#39;录入员&#39;</span><span style="color:#24292E;">, color: </span><span style="color:#032F62;">&#39;warning&#39;</span><span style="color:#24292E;"> }</span></span>
<span class="line"><span style="color:#24292E;">  ],</span></span>
<span class="line"><span style="color:#24292E;">  translateSerivce: [</span></span>
<span class="line"><span style="color:#24292E;">    { value: </span><span style="color:#032F62;">&#39;1&#39;</span><span style="color:#24292E;">, label: </span><span style="color:#032F62;">&#39;Google&#39;</span><span style="color:#24292E;"> },</span></span>
<span class="line"><span style="color:#24292E;">    { value: </span><span style="color:#032F62;">&#39;2&#39;</span><span style="color:#24292E;">, label: </span><span style="color:#032F62;">&#39;AWS&#39;</span><span style="color:#24292E;"> },</span></span>
<span class="line"><span style="color:#24292E;">    { value: </span><span style="color:#032F62;">&#39;3&#39;</span><span style="color:#24292E;">, label: </span><span style="color:#032F62;">&#39;Azure&#39;</span><span style="color:#24292E;"> }</span></span>
<span class="line"><span style="color:#24292E;">  ],</span></span>
<span class="line"><span style="color:#24292E;">  smsBatchEnable: [</span></span>
<span class="line"><span style="color:#24292E;">    { value: </span><span style="color:#032F62;">&#39;1&#39;</span><span style="color:#24292E;">, label: </span><span style="color:#032F62;">&#39;启用&#39;</span><span style="color:#24292E;"> },</span></span>
<span class="line"><span style="color:#24292E;">    { value: </span><span style="color:#032F62;">&#39;2&#39;</span><span style="color:#24292E;">, label: </span><span style="color:#032F62;">&#39;禁用&#39;</span><span style="color:#24292E;"> }</span></span>
<span class="line"><span style="color:#24292E;">  ],</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#6A737D;">//...</span></span></code></pre></div><p><strong>直接引用</strong></p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> dict </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;@/utils/dict.js&quot;</span></span>
<span class="line"><span style="color:#E1E4E8;">console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(dict.userType.</span><span style="color:#B392F0;">get</span><span style="color:#E1E4E8;">([</span><span style="color:#9ECBFF;">&quot;A&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;C&quot;</span><span style="color:#E1E4E8;">])) </span><span style="color:#6A737D;">//[ { value: &#39;A&#39;, label: &#39;管理员&#39;, color: &#39;success&#39; },{ value: &#39;C&#39;, label: &#39;操作员&#39;, color: &#39;danger&#39; }]</span></span>
<span class="line"><span style="color:#E1E4E8;">console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(dict.userType.</span><span style="color:#B392F0;">getLabel</span><span style="color:#E1E4E8;">([</span><span style="color:#9ECBFF;">&quot;A&quot;</span><span style="color:#E1E4E8;">, </span><span style="color:#9ECBFF;">&quot;C&quot;</span><span style="color:#E1E4E8;">])) </span><span style="color:#6A737D;">//[&#39;管理员&#39;, &#39;操作员&#39;]</span></span>
<span class="line"><span style="color:#E1E4E8;">console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(dict.userType.</span><span style="color:#B392F0;">get</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;A&quot;</span><span style="color:#E1E4E8;">)) </span><span style="color:#6A737D;">//{ value: &#39;A&#39;, label: &#39;管理员&#39;, color: &#39;success&#39; }</span></span>
<span class="line"><span style="color:#E1E4E8;">console.</span><span style="color:#B392F0;">log</span><span style="color:#E1E4E8;">(dict.userType.</span><span style="color:#B392F0;">getLabel</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;A&quot;</span><span style="color:#E1E4E8;">)) </span><span style="color:#6A737D;">//&quot;管理员&quot;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> dict </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;@/utils/dict.js&quot;</span></span>
<span class="line"><span style="color:#24292E;">console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(dict.userType.</span><span style="color:#6F42C1;">get</span><span style="color:#24292E;">([</span><span style="color:#032F62;">&quot;A&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;C&quot;</span><span style="color:#24292E;">])) </span><span style="color:#6A737D;">//[ { value: &#39;A&#39;, label: &#39;管理员&#39;, color: &#39;success&#39; },{ value: &#39;C&#39;, label: &#39;操作员&#39;, color: &#39;danger&#39; }]</span></span>
<span class="line"><span style="color:#24292E;">console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(dict.userType.</span><span style="color:#6F42C1;">getLabel</span><span style="color:#24292E;">([</span><span style="color:#032F62;">&quot;A&quot;</span><span style="color:#24292E;">, </span><span style="color:#032F62;">&quot;C&quot;</span><span style="color:#24292E;">])) </span><span style="color:#6A737D;">//[&#39;管理员&#39;, &#39;操作员&#39;]</span></span>
<span class="line"><span style="color:#24292E;">console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(dict.userType.</span><span style="color:#6F42C1;">get</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;A&quot;</span><span style="color:#24292E;">)) </span><span style="color:#6A737D;">//{ value: &#39;A&#39;, label: &#39;管理员&#39;, color: &#39;success&#39; }</span></span>
<span class="line"><span style="color:#24292E;">console.</span><span style="color:#6F42C1;">log</span><span style="color:#24292E;">(dict.userType.</span><span style="color:#6F42C1;">getLabel</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;A&quot;</span><span style="color:#24292E;">)) </span><span style="color:#6A737D;">//&quot;管理员&quot;</span></span></code></pre></div><p><strong>vue中使用</strong></p><div class="language-vue vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">setup</span><span style="color:#E1E4E8;">&gt;&lt;/</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">    {{$dict.userType.getLabel(&quot;1&quot;)}} </span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;/</span><span style="color:#85E89D;">template</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">script</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">setup</span><span style="color:#24292E;">&gt;&lt;/</span><span style="color:#22863A;">script</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">    {{$dict.userType.getLabel(&quot;1&quot;)}} </span></span>
<span class="line"><span style="color:#24292E;">&lt;/</span><span style="color:#22863A;">template</span><span style="color:#24292E;">&gt;</span></span></code></pre></div><h2 id="实现方式" tabindex="-1">实现方式 <a class="header-anchor" href="#实现方式" aria-label="Permalink to &quot;实现方式&quot;">​</a></h2><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#6A737D;">///src/utils/dict.js</span></span>
<span class="line"><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> dict </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  SETTING: {</span></span>
<span class="line"><span style="color:#E1E4E8;">    OPEN_PERMISSION: </span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">//是否开启权限</span></span>
<span class="line"><span style="color:#E1E4E8;">    API_URL: </span><span style="color:#9ECBFF;">&#39;/api/&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#6A737D;">//API具体路径</span></span>
<span class="line"><span style="color:#E1E4E8;">    IMG_URL: </span><span style="color:#9ECBFF;">&#39;/picTemp/&#39;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">    AREA_CODE: </span><span style="color:#79B8FF;">131000</span></span>
<span class="line"><span style="color:#E1E4E8;">  },</span></span>
<span class="line"><span style="color:#E1E4E8;">  userType: [</span></span>
<span class="line"><span style="color:#E1E4E8;">    { value: </span><span style="color:#9ECBFF;">&#39;A&#39;</span><span style="color:#E1E4E8;">, label: </span><span style="color:#9ECBFF;">&#39;管理员&#39;</span><span style="color:#E1E4E8;">, color: </span><span style="color:#9ECBFF;">&#39;success&#39;</span><span style="color:#E1E4E8;"> },</span></span>
<span class="line"><span style="color:#E1E4E8;">    { value: </span><span style="color:#9ECBFF;">&#39;C&#39;</span><span style="color:#E1E4E8;">, label: </span><span style="color:#9ECBFF;">&#39;操作员&#39;</span><span style="color:#E1E4E8;">, color: </span><span style="color:#9ECBFF;">&#39;danger&#39;</span><span style="color:#E1E4E8;"> },</span></span>
<span class="line"><span style="color:#E1E4E8;">    { value: </span><span style="color:#9ECBFF;">&#39;B&#39;</span><span style="color:#E1E4E8;">, label: </span><span style="color:#9ECBFF;">&#39;录入员&#39;</span><span style="color:#E1E4E8;">, color: </span><span style="color:#9ECBFF;">&#39;warning&#39;</span><span style="color:#E1E4E8;"> }</span></span>
<span class="line"><span style="color:#E1E4E8;">  ],</span></span>
<span class="line"><span style="color:#E1E4E8;">  translateSerivce: [</span></span>
<span class="line"><span style="color:#E1E4E8;">    { value: </span><span style="color:#9ECBFF;">&#39;1&#39;</span><span style="color:#E1E4E8;">, label: </span><span style="color:#9ECBFF;">&#39;Google&#39;</span><span style="color:#E1E4E8;"> },</span></span>
<span class="line"><span style="color:#E1E4E8;">    { value: </span><span style="color:#9ECBFF;">&#39;2&#39;</span><span style="color:#E1E4E8;">, label: </span><span style="color:#9ECBFF;">&#39;AWS&#39;</span><span style="color:#E1E4E8;"> },</span></span>
<span class="line"><span style="color:#E1E4E8;">    { value: </span><span style="color:#9ECBFF;">&#39;3&#39;</span><span style="color:#E1E4E8;">, label: </span><span style="color:#9ECBFF;">&#39;Azure&#39;</span><span style="color:#E1E4E8;"> }</span></span>
<span class="line"><span style="color:#E1E4E8;">  ],</span></span>
<span class="line"><span style="color:#E1E4E8;">  smsBatchEnable: [</span></span>
<span class="line"><span style="color:#E1E4E8;">    { value: </span><span style="color:#9ECBFF;">&#39;1&#39;</span><span style="color:#E1E4E8;">, label: </span><span style="color:#9ECBFF;">&#39;启用&#39;</span><span style="color:#E1E4E8;"> },</span></span>
<span class="line"><span style="color:#E1E4E8;">    { value: </span><span style="color:#9ECBFF;">&#39;2&#39;</span><span style="color:#E1E4E8;">, label: </span><span style="color:#9ECBFF;">&#39;禁用&#39;</span><span style="color:#E1E4E8;"> }</span></span>
<span class="line"><span style="color:#E1E4E8;">  ],</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">//生产环境使用全局配置覆盖（/public/setting.js）</span></span>
<span class="line"><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">!import</span><span style="color:#E1E4E8;">.</span><span style="color:#79B8FF;">meta</span><span style="color:#E1E4E8;">.env.</span><span style="color:#79B8FF;">DEV</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">&amp;&amp;</span><span style="color:#E1E4E8;"> window.</span><span style="color:#79B8FF;">ADMIN_SETTING</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  Object.</span><span style="color:#B392F0;">assign</span><span style="color:#E1E4E8;">(dict.</span><span style="color:#79B8FF;">SETTING</span><span style="color:#E1E4E8;">, window.</span><span style="color:#79B8FF;">ADMIN_SETTING</span><span style="color:#E1E4E8;">)</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">for</span><span style="color:#E1E4E8;"> (</span><span style="color:#F97583;">let</span><span style="color:#E1E4E8;"> key </span><span style="color:#F97583;">in</span><span style="color:#E1E4E8;"> dict) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (key </span><span style="color:#F97583;">!=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;SETTING&#39;</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#B392F0;">makeDict</span><span style="color:#E1E4E8;">(dict[key])</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">makeDict</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">obj</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">labelKey</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;label&#39;</span><span style="color:#E1E4E8;">, </span><span style="color:#FFAB70;">valueKey</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&#39;value&#39;</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> Object.</span><span style="color:#B392F0;">defineProperties</span><span style="color:#E1E4E8;">(obj, {</span></span>
<span class="line"><span style="color:#E1E4E8;">    valueKey: {</span></span>
<span class="line"><span style="color:#E1E4E8;">      value: valueKey</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">    labelKey: {</span></span>
<span class="line"><span style="color:#E1E4E8;">      value: labelKey</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">    get: {</span></span>
<span class="line"><span style="color:#E1E4E8;">      value: get</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">    getLabel: {</span></span>
<span class="line"><span style="color:#E1E4E8;">      value: getLabel</span></span>
<span class="line"><span style="color:#E1E4E8;">    }</span></span>
<span class="line"><span style="color:#E1E4E8;">  })</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">get</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">val</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (Array.</span><span style="color:#B392F0;">isArray</span><span style="color:#E1E4E8;">(val)) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    val </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> val.</span><span style="color:#B392F0;">map</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">item</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> item.</span><span style="color:#B392F0;">toString</span><span style="color:#E1E4E8;">())</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">filter</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">item</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> val.</span><span style="color:#B392F0;">includes</span><span style="color:#E1E4E8;">(item[</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.valueKey].</span><span style="color:#B392F0;">toString</span><span style="color:#E1E4E8;">())</span></span>
<span class="line"><span style="color:#E1E4E8;">    })</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> (</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">find</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">item</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> item[</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.valueKey] </span><span style="color:#F97583;">==</span><span style="color:#E1E4E8;"> val</span></span>
<span class="line"><span style="color:#E1E4E8;">    }) </span><span style="color:#F97583;">||</span><span style="color:#E1E4E8;"> {}</span></span>
<span class="line"><span style="color:#E1E4E8;">  )</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#F97583;">function</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">getLabel</span><span style="color:#E1E4E8;">(</span><span style="color:#FFAB70;">val</span><span style="color:#E1E4E8;">) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">if</span><span style="color:#E1E4E8;"> (Array.</span><span style="color:#B392F0;">isArray</span><span style="color:#E1E4E8;">(val)) {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">get</span><span style="color:#E1E4E8;">(val).</span><span style="color:#B392F0;">map</span><span style="color:#E1E4E8;">((</span><span style="color:#FFAB70;">item</span><span style="color:#E1E4E8;">) </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">      </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> item[</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.labelKey]</span></span>
<span class="line"><span style="color:#E1E4E8;">    })</span></span>
<span class="line"><span style="color:#E1E4E8;">  }</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.</span><span style="color:#B392F0;">get</span><span style="color:#E1E4E8;">(val)[</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">.labelKey]</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"><span style="color:#F97583;">export</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">default</span><span style="color:#E1E4E8;"> dict</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#6A737D;">///src/utils/dict.js</span></span>
<span class="line"><span style="color:#D73A49;">let</span><span style="color:#24292E;"> dict </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  SETTING: {</span></span>
<span class="line"><span style="color:#24292E;">    OPEN_PERMISSION: </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">//是否开启权限</span></span>
<span class="line"><span style="color:#24292E;">    API_URL: </span><span style="color:#032F62;">&#39;/api/&#39;</span><span style="color:#24292E;">, </span><span style="color:#6A737D;">//API具体路径</span></span>
<span class="line"><span style="color:#24292E;">    IMG_URL: </span><span style="color:#032F62;">&#39;/picTemp/&#39;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">    AREA_CODE: </span><span style="color:#005CC5;">131000</span></span>
<span class="line"><span style="color:#24292E;">  },</span></span>
<span class="line"><span style="color:#24292E;">  userType: [</span></span>
<span class="line"><span style="color:#24292E;">    { value: </span><span style="color:#032F62;">&#39;A&#39;</span><span style="color:#24292E;">, label: </span><span style="color:#032F62;">&#39;管理员&#39;</span><span style="color:#24292E;">, color: </span><span style="color:#032F62;">&#39;success&#39;</span><span style="color:#24292E;"> },</span></span>
<span class="line"><span style="color:#24292E;">    { value: </span><span style="color:#032F62;">&#39;C&#39;</span><span style="color:#24292E;">, label: </span><span style="color:#032F62;">&#39;操作员&#39;</span><span style="color:#24292E;">, color: </span><span style="color:#032F62;">&#39;danger&#39;</span><span style="color:#24292E;"> },</span></span>
<span class="line"><span style="color:#24292E;">    { value: </span><span style="color:#032F62;">&#39;B&#39;</span><span style="color:#24292E;">, label: </span><span style="color:#032F62;">&#39;录入员&#39;</span><span style="color:#24292E;">, color: </span><span style="color:#032F62;">&#39;warning&#39;</span><span style="color:#24292E;"> }</span></span>
<span class="line"><span style="color:#24292E;">  ],</span></span>
<span class="line"><span style="color:#24292E;">  translateSerivce: [</span></span>
<span class="line"><span style="color:#24292E;">    { value: </span><span style="color:#032F62;">&#39;1&#39;</span><span style="color:#24292E;">, label: </span><span style="color:#032F62;">&#39;Google&#39;</span><span style="color:#24292E;"> },</span></span>
<span class="line"><span style="color:#24292E;">    { value: </span><span style="color:#032F62;">&#39;2&#39;</span><span style="color:#24292E;">, label: </span><span style="color:#032F62;">&#39;AWS&#39;</span><span style="color:#24292E;"> },</span></span>
<span class="line"><span style="color:#24292E;">    { value: </span><span style="color:#032F62;">&#39;3&#39;</span><span style="color:#24292E;">, label: </span><span style="color:#032F62;">&#39;Azure&#39;</span><span style="color:#24292E;"> }</span></span>
<span class="line"><span style="color:#24292E;">  ],</span></span>
<span class="line"><span style="color:#24292E;">  smsBatchEnable: [</span></span>
<span class="line"><span style="color:#24292E;">    { value: </span><span style="color:#032F62;">&#39;1&#39;</span><span style="color:#24292E;">, label: </span><span style="color:#032F62;">&#39;启用&#39;</span><span style="color:#24292E;"> },</span></span>
<span class="line"><span style="color:#24292E;">    { value: </span><span style="color:#032F62;">&#39;2&#39;</span><span style="color:#24292E;">, label: </span><span style="color:#032F62;">&#39;禁用&#39;</span><span style="color:#24292E;"> }</span></span>
<span class="line"><span style="color:#24292E;">  ],</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D;">//生产环境使用全局配置覆盖（/public/setting.js）</span></span>
<span class="line"><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">!import</span><span style="color:#24292E;">.</span><span style="color:#005CC5;">meta</span><span style="color:#24292E;">.env.</span><span style="color:#005CC5;">DEV</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">&amp;&amp;</span><span style="color:#24292E;"> window.</span><span style="color:#005CC5;">ADMIN_SETTING</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  Object.</span><span style="color:#6F42C1;">assign</span><span style="color:#24292E;">(dict.</span><span style="color:#005CC5;">SETTING</span><span style="color:#24292E;">, window.</span><span style="color:#005CC5;">ADMIN_SETTING</span><span style="color:#24292E;">)</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">for</span><span style="color:#24292E;"> (</span><span style="color:#D73A49;">let</span><span style="color:#24292E;"> key </span><span style="color:#D73A49;">in</span><span style="color:#24292E;"> dict) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (key </span><span style="color:#D73A49;">!=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;SETTING&#39;</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#6F42C1;">makeDict</span><span style="color:#24292E;">(dict[key])</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">makeDict</span><span style="color:#24292E;">(</span><span style="color:#E36209;">obj</span><span style="color:#24292E;">, </span><span style="color:#E36209;">labelKey</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;label&#39;</span><span style="color:#24292E;">, </span><span style="color:#E36209;">valueKey</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&#39;value&#39;</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> Object.</span><span style="color:#6F42C1;">defineProperties</span><span style="color:#24292E;">(obj, {</span></span>
<span class="line"><span style="color:#24292E;">    valueKey: {</span></span>
<span class="line"><span style="color:#24292E;">      value: valueKey</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">    labelKey: {</span></span>
<span class="line"><span style="color:#24292E;">      value: labelKey</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">    get: {</span></span>
<span class="line"><span style="color:#24292E;">      value: get</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">    getLabel: {</span></span>
<span class="line"><span style="color:#24292E;">      value: getLabel</span></span>
<span class="line"><span style="color:#24292E;">    }</span></span>
<span class="line"><span style="color:#24292E;">  })</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">get</span><span style="color:#24292E;">(</span><span style="color:#E36209;">val</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (Array.</span><span style="color:#6F42C1;">isArray</span><span style="color:#24292E;">(val)) {</span></span>
<span class="line"><span style="color:#24292E;">    val </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> val.</span><span style="color:#6F42C1;">map</span><span style="color:#24292E;">((</span><span style="color:#E36209;">item</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> item.</span><span style="color:#6F42C1;">toString</span><span style="color:#24292E;">())</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">filter</span><span style="color:#24292E;">((</span><span style="color:#E36209;">item</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> val.</span><span style="color:#6F42C1;">includes</span><span style="color:#24292E;">(item[</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.valueKey].</span><span style="color:#6F42C1;">toString</span><span style="color:#24292E;">())</span></span>
<span class="line"><span style="color:#24292E;">    })</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> (</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">find</span><span style="color:#24292E;">((</span><span style="color:#E36209;">item</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> item[</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.valueKey] </span><span style="color:#D73A49;">==</span><span style="color:#24292E;"> val</span></span>
<span class="line"><span style="color:#24292E;">    }) </span><span style="color:#D73A49;">||</span><span style="color:#24292E;"> {}</span></span>
<span class="line"><span style="color:#24292E;">  )</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#D73A49;">function</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">getLabel</span><span style="color:#24292E;">(</span><span style="color:#E36209;">val</span><span style="color:#24292E;">) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">if</span><span style="color:#24292E;"> (Array.</span><span style="color:#6F42C1;">isArray</span><span style="color:#24292E;">(val)) {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">get</span><span style="color:#24292E;">(val).</span><span style="color:#6F42C1;">map</span><span style="color:#24292E;">((</span><span style="color:#E36209;">item</span><span style="color:#24292E;">) </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">      </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> item[</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.labelKey]</span></span>
<span class="line"><span style="color:#24292E;">    })</span></span>
<span class="line"><span style="color:#24292E;">  }</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.</span><span style="color:#6F42C1;">get</span><span style="color:#24292E;">(val)[</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">.labelKey]</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"><span style="color:#D73A49;">export</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">default</span><span style="color:#24292E;"> dict</span></span></code></pre></div>`,20),e=[o];function c(t,E,r,y,i,F){return n(),a("div",null,e)}const d=s(p,[["render",c]]);export{C as __pageData,d as default};
